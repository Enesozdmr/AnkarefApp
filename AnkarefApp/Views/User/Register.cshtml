@{
    ViewData["Title"] = "Home Page";
}

<h1>Register</h1>

<div class="text-center">
    <form class="form-signin" method="post" asp-action="Register" onsubmit="return validatePassword()">
        @if (!string.IsNullOrEmpty(ViewBag.SuccessMessage as string))
        {
            <div class="alert alert-success">@ViewBag.SuccessMessage</div>
        }

        @if (!string.IsNullOrEmpty(ViewBag.ErrorMessage as string))
        {
            <div class="alert alert-danger">@ViewBag.ErrorMessage</div>
        }

        <div class="form-group">
            <label>Email</label>
            <input name="email" type="email" class="form-control" required/>
        </div>
        <div class="form-group">
            <label>Password</label>
            <input id="firstPassword" name="password" class="form-control" required type="password"/>
        </div>
        <div class="form-group">
            <label>Confirm Password</label>
            <input id="secondPassword" name="confirmPassword" class="form-control" required type="password"/>
            <span id="passwordMatchError" style="color: red; display: none;">Passwords do not match.</span>
        </div>
        <button type="submit" class="btn btn-primary">Register</button>
    </form>
</div>

<script>
    const firstPassword = document.getElementById('firstPassword');
    const secondPassword = document.getElementById('secondPassword');
    const passwordMatchError = document.getElementById('passwordMatchError');

    function validatePassword() {
        if (firstPassword.value !== secondPassword.value) {
            passwordMatchError.style.display = 'block';
            return false; 
        } else {
            passwordMatchError.style.display = 'none';
            return true; 
        }
    }
</script>